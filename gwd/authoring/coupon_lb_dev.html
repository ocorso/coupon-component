<!DOCTYPE html>
<html>

<head>
  <meta name="gwd:studio-creative-association" content="acct=36285795;adv=41740557;camp=41741711;cr=41741142;assets={40488745,36800436,40438753,38207631,41771318,40457575,36772771,41307875,38207632,36772774,36772777,40541684,40443848,39845752,41832406,39845751,41796242,41802445,42893886,38205175,42893887,42973310,38595256,41802443,40245904,42893881,41350412,38205178,41350411,};">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script type="text/javascript" src="textFit.js"></script>
  <script type="text/javascript" src="jquery.soap.js"></script>
  <script type="text/javascript" src="xml2json.js"></script>
  <script type="text/javascript">
    var showConsole = window.location.hostname.indexOf("localhost") != -1 ? true : false
    var consoleHeight = 200
  </script>
  <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,700|Roboto" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="main.css" type="text/css">
  <meta charset="utf-8">
  <meta name="generator" content="Google Web Designer 1.6.0.0429">
  <meta name="template" content="Expandable 2.3.2">
  <meta name="environment" content="gwd-doubleclick">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style type="text/css" id="gwd-lightbox-style">
    .gwd-lightbox {
      overflow: hidden;
    }
  </style>
  <style type="text/css" id="gwd-text-style"></style>
  <style type="text/css">
    .banner {
      width: 300px;
      height: 250px;
    }
    #expand-button {
      position: absolute;
      width: 300px;
      height: 250px;
      border-style: solid;
      border-width: 0px;
      left: 0px;
      top: 0px;
    }
    .invitationImage {
      width: 300px;
      height: 250px;
      left: 0px;
      top: 0px;
    }
    html, body {
      width: 100%;
      height: 100%;
      margin: 0px;
    }
    .gwd-page-container {
      position: relative;
      width: 100%;
      height: 100%;
    }
    .gwd-page-content {
      transform: perspective(1400px) matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
      transform-style: preserve-3d;
      position: absolute;
      background-color: transparent;
    }
    .gwd-page-wrapper {
      position: absolute;
      transform: translateZ(0px);
      background-color: rgb(255, 255, 255);
    }
    .banner {
      width: 300px;
      height: 250px;
    }
    .expanded {
      width: 100%;
      height: 100%;
    }
    .expand-button {
      position: absolute;
      width: 300px;
      height: 250px;
      left: 0px;
      top: 0px;
    }
  </style>
  <link href="gwdimage_style.css" data-version="7" data-exports-type="gwd-image" rel="stylesheet">
  <link href="gwdpage_style.css" data-version="8" data-exports-type="gwd-page" rel="stylesheet">
  <link href="gwddoubleclick_style.css" data-version="10" data-exports-type="gwd-doubleclick" rel="stylesheet">
  <link href="gwdtaparea_style.css" data-version="4" data-exports-type="gwd-taparea" rel="stylesheet">
  <link href="gwdpagedeck_style.css" data-version="8" data-exports-type="gwd-pagedeck" rel="stylesheet">
  <script data-source="googbase_min.js" data-version="3" data-exports-type="googbase" type="text/javascript" src="googbase_min.js"></script>
  <script data-source="gwd_webcomponents_min.js" data-version="5" data-exports-type="gwd_webcomponents" type="text/javascript" src="gwd_webcomponents_min.js"></script>
  <script data-source="gwdpage_min.js" data-version="8" data-exports-type="gwd-page" type="text/javascript" src="gwdpage_min.js"></script>
  <script data-source="gwdpagedeck_min.js" data-version="8" data-exports-type="gwd-pagedeck" type="text/javascript" src="gwdpagedeck_min.js"></script>
  <script data-source="gwdtaparea_min.js" data-version="4" data-exports-type="gwd-taparea" type="text/javascript" src="gwdtaparea_min.js"></script>
  <script data-source="gwdimage_min.js" data-version="7" data-exports-type="gwd-image" type="text/javascript" src="gwdimage_min.js"></script>
  <script data-source="https://s0.2mdn.net/ads/studio/Enabler.js" data-exports-type="gwd-doubleclick" type="text/javascript" src="https://s0.2mdn.net/ads/studio/Enabler.js"></script>
  <script data-source="gwddoubleclick_min.js" data-version="10" data-exports-type="gwd-doubleclick" type="text/javascript" src="gwddoubleclick_min.js"></script>
  <script type="text/javascript" gwd-events="support" src="gwd-events-support.1.0.js"></script>
</head>

<body class="document-body">
  <gwd-doubleclick id="gwd-ad" fullscreen="">
    <gwd-metric-configuration>
      <gwd-metric-event source="expand-button" event="tapareaexit" metric="" exit="Exit"></gwd-metric-event>
    </gwd-metric-configuration>
    <ored-coupon id="my_coupon" data-url="https://devapi.cellfire.com/services/QBridgeServiceV2" data-api-type="cellfire" data-api-key="y7zkry6e68dddhk6wmpwh5yv" data-api-tlc="UNT25cU4aYnVtdE1RODQ1NGtBc01n#bum">
    </ored-coupon>
    <div is="gwd-pagedeck" class="gwd-page-container" id="pagedeck" default-page="banner-page">
      <div is="gwd-page" id="banner-page" data-gwd-name="Banner page" class="gwd-page-wrapper banner gwd-lightbox" data-gwd-width="300px" data-gwd-height="250px">
        <div class="gwd-page-content banner">
          <img class="invitationImage" is="gwd-image" source="assets/hoverToExpand.jpg" id="invitationImage">
          <gwd-taparea id="expand-button" class="expand-button"></gwd-taparea>
        </div>
      </div>
      <div is="gwd-page" id="expanded-page" expanded="" data-gwd-name="Expanded page" class="gwd-page-wrapper expanded gwd-lightbox" data-gwd-width="800px" data-gwd-height="500px" fullscreen="">
        <div class="gwd-page-content expanded">
          <!-- my expanded lightbox content starts here -->
          <img is="gwd-image" source="assets/background.jpg" id="backgroundImage" style="" data-gwd-tl-locked="">
          <div id="couponContainer" class="dead" style="">
            <!-- inline header -->
            <div id="headerImage">
            </div>
            <!-- end inline header -->
            <!-- coupon template starts here -->
            <div id="couponViewTemplate" class="couponView">
              <div class="coupon">
                <div class="couponLeft">
                  <div class="couponImage"></div>
                </div>
                <div class="couponRight">
                  <div class="couponTitle superStroke">
                    <p>TITLE</p>
                  </div>
                  <div class="couponDescription">
                    <p>DESCRIPTION</p>
                  </div>
                  <div class="actionButton">
                    <div class="couponSavings">
                      <p>Save</p>
                    </div>
                    <img is="gwd-image" class="scissors" source="assets/scissors.png" id="gwd-image_2">
                  </div>
                </div>
              </div>
            </div>
            <!-- coupon template ends here -->
          </div>
          <!-- "clipWindowView" is the main coupon clipping dialog -->
          <div id="clipWindowView" style="" data-gwd-tl-locked="">
            <img is="gwd-image" source="assets/close.png" id="closeBTN" onclick="signal.dispatch ( { type:&#39;HIDE_CLIP_WINDOW&#39;  })">
            <!-- your detail view -->
            <div id="detailView">
              <img id="detailImage" is="gwd-image">
              <div id="detailName">
                <p></p>
              </div>
              <div id="detailDesc">
                <p></p>
              </div>
              <div id="detailLongDesc">
                <p></p>
              </div>
            </div>
            <!-- end detail view -->
            <!-- your form -->
            <img is="gwd-image" source="assets/pbcf.png" id="cellfireLogo">
            <div id="formContainer">
              <div id="merchantPrompt">Please Select Your Retailer of Choice...</div>
              <select name="cm" id="merchantDropdown" onchange="signal.dispatch ( { type:&#39;MERCHANT_CHANGED&#39; , target:this } )">
              </select>
              <img id="merchantCardIcon" is="gwd-image">
              <div id="merchantInfoPrompt"></div>
              <div id="fullFormUI">
                <div id="dynamicFormUI">
                  <div id="validation_fields">
                  </div>
                  <div id="merchantInfoHelp"></div>
                </div>
                <button id="browseBTN" onclick="signal.dispatch ( { type:&#39;HIDE_CLIP_WINDOW&#39; , target:this })">Keep Browsing</button>
                <button id="masterSubmit" onclick="signal.dispatch ( { type:&#39;CLIP_COUPON&#39; })">Clip Coupon</button>
                <!--class="dimmed"-->
              </div>
            </div>
            <!-- interior sheet -->
            <div id="sheet">
              <div id="sheetText">
              </div>
              <button id="sheetDismissBTN">Try Again</button>
            </div>
            <!-- end interior sheet-->
          </div>
          <!-- end formContainer -->
          <div id="loader" style="">
            <img is="gwd-image" source="assets/loading.png" id="gwd-image_1">
          </div>
        </div>
        <!-- end main coupon clipping dialog -->
        <!-- end my expanded lightbox content -->
      </div>
    </div>
    <gwd-exit metric="Header_Exit" url="https://www.pgeveryday.com/coupons-offers/shopper-card-coupons-online/?utm_source=google&amp;utm_medium=display&amp;utm_campaign=mar16_esaver_lightbox_fabriccare&amp;utm_term=coupon"></gwd-exit>
  </gwd-doubleclick>
  <script type="text/javascript" gwd-events="registration">
    // Support code for event handling in Google Web Designer
     // This script block is auto-generated. Please do not edit!
    gwd.actions.events.registerEventHandlers = function(event) {
      gwd.actions.events.addHandler('expand-button', 'action', gwd.handleExpand_buttonAction, false);
      gwd.actions.events.addHandler('expand-button', 'mouseover', gwd.auto_Expand_buttonMouseover, false);
      gwd.actions.events.addHandler('expanded-page', 'pagepresenting', gwd.handleSignal, false);
      gwd.actions.events.addHandler('headerImage', 'click', gwd.auto_HeaderImageClick, false);
    };
    gwd.actions.events.deregisterEventHandlers = function(event) {
      gwd.actions.events.removeHandler('expand-button', 'action', gwd.handleExpand_buttonAction, false);
      gwd.actions.events.removeHandler('expand-button', 'mouseover', gwd.auto_Expand_buttonMouseover, false);
      gwd.actions.events.removeHandler('expanded-page', 'pagepresenting', gwd.handleSignal, false);
      gwd.actions.events.removeHandler('headerImage', 'click', gwd.auto_HeaderImageClick, false);
    };
    document.addEventListener("DOMContentLoaded", gwd.actions.events.registerEventHandlers);
    document.addEventListener("unload", gwd.actions.events.deregisterEventHandlers);
  </script>
  <script type="text/javascript" gwd-events="handlers">
    window.gwd = window.gwd || {};
    gwd.handleSignal = function(event) {
      try {
        signal.dispatch(event);
      } catch (e) {
        console.log("handleSignal error: " + e)
      }
    };
    gwd.handleExpand_buttonAction = function(event) {
      // GWD Predefined Function
      gwd.actions.gwdDoubleclick.goToPage('gwd-ad', 'expanded-page');
      handleSignal(event)
    };
    gwd.handleClose_buttonAction = function(event) {
      // GWD Predefined Function
      gwd.actions.gwdDoubleclick.goToPage('gwd-ad', 'banner-page');
      handleSignal(event)
    };
    gwd.handleClose_reportManualClose = function(event) {
      // GWD Predefined Function
      gwd.actions.gwdDoubleclick.reportManualClose('gwd-ad');
      handleSignal(event)
    };
    gwd.auto_Expand_buttonMouseover = function(event) {
      // GWD Predefined Function
      gwd.actions.gwdDoubleclick.goToPage('gwd-ad', 'expanded-page', 'none', 1000, 'linear', 'top');
      handleSignal(event)
    };
    gwd.auto_HeaderImageClick = function(event) {
      // GWD Predefined Function
      gwd.actions.gwdDoubleclick.exit('gwd-ad', 'Header_Exit', 'https://www.pgeveryday.com/coupons-offers/shopper-card-coupons-online/?utm_source=google&utm_medium=display&utm_campaign=mar16_esaver_lightbox_fabriccare&utm_term=coupon', true, true);
    };
  </script>
  <script type="text/javascript" id="gwd-init-code">
    (function() {
      var gwdAd = document.getElementById('gwd-ad');

      /**
       * Handles the DOMContentLoaded event. The DOMContentLoaded event is
       * fired when the document has been completely loaded and parsed.
       */
      function handleDomContentLoaded(event) {
        signal.dispatch(event)

        Enabler.setHint('expansionMode', 'lightbox');
        Enabler.addEventListener(studio.events.StudioEvent.FULLSCREEN_EXPAND_FINISH,
          function(e) {
            signal.dispatch(e)
            Enabler.counter('Expansion_Ctr');
            Enabler.startTimer('Expansion_Timer');
          }, false);
        Enabler.addEventListener(studio.events.StudioEvent.FULLSCREEN_COLLAPSE_FINISH,
          function(e) {
            Enabler.finishCollapse();
            signal.dispatch(e)

            Enabler.counter('Collapse_Ctr');
            Enabler.stopTimer('Expansion_Timer');
          }, false);

      }

      /**
       * Handles the WebComponentsReady event. This event is fired when all
       * custom elements have been registered and upgraded.
       */
      function handleWebComponentsReady(event) {
        // Start the Ad lifecycle.
        signal.dispatch(event)

        setTimeout(function() {
          gwdAd.initAd();
        }, 0);
      }

      /**
       * Handles the event that is dispatched after the Ad has been
       * initialized and before the default page of the Ad is shown.
       */
      function handleAdInitialized(event) {
        signal.dispatch(event)

      }

      window.addEventListener('DOMContentLoaded', handleDomContentLoaded, false);
      window.addEventListener('WebComponentsReady', handleWebComponentsReady, false);
      window.addEventListener('adinitialized', handleAdInitialized, false);
      window.addEventListener('orientationchange', function(event) {

        switch (window.orientation) {
          case -90:
          case 90:
            signal.dispatch({
              type: "DID_ROTATE_TO_LANDSCAPE"
            })
            break;
          default:
            signal.dispatch({
              type: "DID_ROTATE_TO_PORTRAIT"
            })
            break;
        }
      }, false);

    })();
  </script>
  <script src="TweenMax.min.js"></script>
  <script src="signals.min.js"></script>
  <script src="core.js"></script>
  <script src="ad.js"></script>
  <script src="coupon.js"></script>
</body>

</html>